PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `User` (`Id` INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL, `Name` TEXT NOT NULL, `Surname` TEXT NOT NULL, `Email` TEXT NOT NULL, `Password` TEXT NOT NULL);
CREATE TABLE IF NOT EXISTS "Order" (`IdOrder` INTEGER UNIQUE NOT NULL, `Data` TEXT, `IdUser` INTEGER NOT NULL REFERENCES `User`(`Id`), `Price` NUMERIC NOT NULL);
CREATE TABLE `Poke` (`IdPoke` INTEGER UNIQUE NOT NULL, `Size` TEXT NOT NULL DEFAULT 'R', `Base` TEXT NOT NULL DEFAULT 'Riso bianco', `Price` NUMERIC NOT NULL, `IdOrder` INTEGER NOT NULL REFERENCES `Order`(`IdOrder`));
CREATE TABLE `Proteins` (`IdProteins` INTEGER UNIQUE NOT NULL, `Name` TEXT UNIQUE NOT NULL);
CREATE TABLE `Ingredients` (`IdIngredients` INTEGER UNIQUE NOT NULL, `Name` TEXT NOT NULL);
CREATE TABLE `ContainProteins` (`IdPoke` INTEGER NOT NULL REFERENCES `Poke`(`IdPoke`), `IdProteins` INTEGER NOT NULL REFERENCES `Proteins`(`IdProteins`));
CREATE TABLE `ContainIngredients` (`IdPoke` INTEGER NOT NULL REFERENCES `Poke`(`IdPoke`), `IdIngredients` INTEGER NOT NULL REFERENCES `Ingredients`(`IdIngredients`));
DELETE FROM sqlite_sequence;
COMMIT;
